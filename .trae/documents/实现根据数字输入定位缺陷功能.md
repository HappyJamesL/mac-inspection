## 功能设计

实现全局数字输入监听，当屏幕上没有活跃的输入框（CST、LOT或缺陷备注）时，输入数字会自动定位到对应LEVELNO的缺陷代码。

## 实现方案

### 1. 响应式变量设计

* `isInputActive`: 布尔值，标识当前是否有活跃输入框

* `digitBuffer`: 字符串，存储连续输入的数字

* `digitTimer`: 计时器，用于重置输入缓冲区

* `defectListRef`: 引用，指向缺陷列表容器

### 2. 事件监听机制

* 在`onMounted`中添加全局`keydown`事件监听

* 在`onUnmounted`中移除事件监听

* 为所有输入框添加`focus`和`blur`事件，更新`isInputActive`状态

### 3. 输入处理逻辑

* 监听键盘数字输入

* 当`isInputActive`为`false`时，将数字添加到`digitBuffer`

* 设置300ms计时器，超时后处理输入

* 连续输入数字时重置计时器

### 4. 缺陷定位逻辑

* 将`digitBuffer`转换为数字，查找对应LEVELNO的缺陷代码

* 调用`switchCode`函数激活匹配的缺陷

* 实现自动滚动到匹配缺陷项的功能

* 如果有多个相同LEVELNO，激活第一个

### 5. 滚动实现

* 使用`Element.scrollIntoView()`方法滚动到匹配元素

* 平滑滚动效果

* 确保元素在可视区域内

### 6. 代码修改点

**模板部分**:

* 为缺陷列表容器添加`ref="defectListRef"`

* 为所有输入框添加`@focus="isInputActive = true"`和`@blur="isInputActive = false"`

**脚本部分**:

* 添加响应式变量

* 实现`handleKeydown`函数处理键盘输入

* 实现`processDigitInput`函数处理数字定位

* 实现`scrollToDefect`函数处理滚动

* 在生命周期钩子中添加/移除事件监听

### 7. 测试场景

* 当无输入框活跃时，输入数字定位缺陷

* 连续输入多位数字（如"12"）定位LEVELNO为12的缺陷

* 有输入框活跃时，不触发定位

* 多个相同LEVELNO时，激活第一个

* 滚动效果正常

## 技术优势

* 无需额外UI元素，保持界面简洁

* 无缝集成到现有工作流程

* 响应迅速，用户体验流畅

* 不影响现有输入功能

* 自动处理连续数字输入

